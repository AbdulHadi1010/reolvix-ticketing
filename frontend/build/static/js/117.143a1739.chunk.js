"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[117],{6522:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(1134),o=r(184);const a=e=>{let{children:t,onSubmit:r,methods:a}=e;return(0,o.jsx)(n.RV,{...a,children:(0,o.jsx)("form",{onSubmit:r,children:t})})}},279:(e,t,r)=>{r.d(t,{m3:()=>c,au:()=>h,sX:()=>V,ZP:()=>n.Z});var n=r(6522),o=r(6314),a=r(8138),s=r(2791),i=r(1134),l=r(184);function c(e){let{keyName:t="",helperText:r,inputs:n=[],...c}=e;const d=(0,s.useRef)(null),{control:h,setValue:u}=(0,i.Gc)(),p=(e,r)=>{const{maxLength:n,name:o}=e.target,a=o.replace(t,""),s=Number(a),i=document.querySelector("input[name=".concat(t).concat(s-1,"]"));let l=e.target.value.toUpperCase();if(0===l.length&&null!==i)e.preventDefault(),i.focus(),u(o,"");else if(l.length>n)l=l[0];else if(l.length>=n&&s<6){const e=document.querySelector("input[name=".concat(t).concat(s+1,"]"));null!==e&&e.focus()}u(o,l),r(e)};return(0,l.jsx)(o.Z,{direction:"row",justifyContent:"center",spacing:2,ref:d,onPaste:e=>{e.preventDefault();e.clipboardData.getData("text").split("").forEach(((e,r)=>{const n="".concat(t).concat(r+1);u(n,e.toUpperCase())}))},children:n.map(((e,n)=>(0,l.jsx)(i.Qr,{name:"".concat(t).concat(n+1),render:e=>{let{field:t,fieldState:{error:o}}=e;return(0,l.jsx)(a.Z,{...t,error:!!o,autoFocus:0===n,placeholder:"-",onInput:e=>{e.target.value=e.target.value.toUpperCase(),p(e,t.onChange)},onChange:e=>{p(e,t.onChange)},onFocus:e=>e.currentTarget.select(),InputProps:{sx:{"& input":{textAlign:"center"}}},inputProps:{maxLength:1,type:"text"},helperText:o?o.message:r,...c})},control:h},e)))})}var d=r(3967);function h(e){let{name:t,helperText:r,...n}=e;const{control:o}=(0,i.Gc)(),s=(0,d.Z)();return(0,l.jsx)(i.Qr,{name:t,control:o,render:e=>{let{field:t,fieldState:{error:o}}=e;return(0,l.jsx)(a.Z,{sx:{mt:1},...t,fullWidth:!0,value:"number"===typeof t.value&&0===t.value?"":t.value,InputProps:{sx:{"& textarea":{scrollbarColor:"".concat(s.palette.primary.main," transparent"),scrollbarWidth:"thin","&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:s.palette.primary.main,borderRadius:"10px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"}}}},error:!!o,helperText:o?o.message:r,...n})}})}var u=r(7071),p=r(7087),g=r(4554);const x=(0,s.forwardRef)(((e,t)=>{let{disabledEffect:r=!1,effect:n="blur",sx:o,...a}=e;const s=(0,l.jsx)(g.Z,{component:p.LazyLoadImage,wrapperClassName:"wrapper",effect:r?void 0:n,placeholderSrc:r?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},...a});return(0,l.jsx)(g.Z,{ref:t,component:"span",sx:{lineHeight:1,display:"block",overflow:"hidden",position:"relative","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"},...o},children:s})}));function m(e){let{file:t}=e;if(!t)return null;const r="string"===typeof t?t:t.preview;return(0,l.jsx)(x,{alt:"avatar",src:r,sx:{zIndex:8,overflow:"hidden",borderRadius:"50%",position:"absolute",width:"calc(100% - 16px)",height:"calc(100% - 16px)"}})}var j=r(5289),v=r(5661),f=r(890),b=r(3400),w=r(9157),Z=r(7123),y=r(9872),C=r(6151),k=r(8579),P=r(7005);function I(e){return e*Math.PI/180}async function S(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1};const o=await(a=e,new Promise(((e,t)=>{const r=new Image;r.addEventListener("load",(()=>e(r))),r.addEventListener("error",(e=>t(e))),r.setAttribute("crossOrigin","anonymous"),r.src=a})));var a;const s=document.createElement("canvas"),i=s.getContext("2d");if(!i)return null;const l=I(r),{width:c,height:d}=function(e,t,r){const n=I(r);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}(o.width,o.height,r);s.width=c,s.height=d,i.translate(c/2,d/2),i.rotate(l),i.scale(n.horizontal?-1:1,n.vertical?-1:1),i.translate(-o.width/2,-o.height/2),i.drawImage(o,0,0);const h=document.createElement("canvas"),u=h.getContext("2d");return u?(h.width=t.width,h.height=t.height,u.drawImage(s,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise(((e,t)=>{h.toBlob((t=>{e(URL.createObjectURL(t))}),"image/jpeg")}))):null}const R=e=>{let{open:t,handleClose:r,image:n,onUse:a}=e;const[i,c]=(0,s.useState)({x:0,y:0}),[d,h]=(0,s.useState)(0),[u,p]=(0,s.useState)(1),[g,x]=(0,s.useState)(null);return(0,l.jsxs)(j.Z,{open:t,onClose:r,fullWidth:!0,maxWidth:"xs","aria-labelledby":"responsive-dialog-title",keepMounted:!0,sx:{p:4},children:[(0,l.jsxs)(v.Z,{sx:{mb:3},id:"responsive-dialog-title",children:[(0,l.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,l.jsx)(f.Z,{variant:"h5",textAlign:"center",p:1.5,children:"Make your Avatar"}),(0,l.jsx)(b.Z,{onClick:r,children:(0,l.jsx)(k.Z,{weight:"fill"})})]}),(0,l.jsx)(o.Z,{justifyContent:"center",alignItems:"center"})]}),(0,l.jsx)(w.Z,{sx:{overflowY:"scroll",height:"25rem",position:"relative"},className:"scrollbar",children:(0,l.jsx)(P.ZP,{image:n,crop:i,cropShape:"round",rotation:d,zoom:u,aspect:1,onCropChange:c,onRotationChange:h,onCropComplete:(e,t)=>{x(t)},onZoomChange:p})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(o.Z,{justifyContent:"space-between",sx:{flexGrow:1},direction:"column",children:[(0,l.jsxs)(o.Z,{direction:"column",justifyContent:"flex-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{variant:"overline",children:"Zoom"}),(0,l.jsx)(y.ZP,{value:u,min:1,max:8,step:.1,"aria-labelledby":"Zoom",onChange:(e,t)=>p(t)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Z,{variant:"overline",children:"Rotation"}),(0,l.jsx)(y.ZP,{value:d,min:0,max:360,step:90,"aria-labelledby":"Rotation",onChange:(e,t)=>h(t)})]})]}),(0,l.jsxs)(o.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,l.jsx)(C.Z,{autoFocus:!0,onClick:r,children:"Cancel"}),(0,l.jsx)(C.Z,{onClick:async()=>{try{const e=await S(n,g,d);a(e)}catch(e){console.error(e)}},autoFocus:!0,children:"Confirm"})]})]})})]})};var E=r(3954),z=r(6934),q=r(2065),A=r(6526),F=r(8389),L=r(4198);const U=(0,z.ZP)("div")({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"}),D=(0,z.ZP)("div")({position:"relative"}),M=(0,z.ZP)("div")((e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",display:"flex",cursor:"pointer",overflow:"hidden",borderRadius:"50%",alignItems:"center",justifyContent:"center",border:"1px dashed ".concat((0,q.Fq)(t.palette.grey[500],.32))}})),N=(0,z.ZP)(b.Z)((e=>{let{theme:t,setval:r}=e;return{position:"absolute",top:t.spacing(14.5),right:t.spacing(r),zIndex:10,color:t.palette.text.primary,backgroundColor:t.palette.background.default,border:"1px solid ".concat((0,q.Fq)(t.palette.grey[500],.32)),borderRadius:"50%",padding:t.spacing(1),"&:hover":{backgroundColor:t.palette.background.neutral}}})),T=(0,z.ZP)("div")((e=>{let{theme:t}=e;return{zIndex:7,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",width:"calc(100% - 16px)",height:"calc(100% - 16px)",color:t.palette.text.disabled,backgroundColor:t.palette.background.neutral,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter})}}));function _(e){let{error:t,file:r,disabled:n,helperText:o,onRemove:a,onCrop:s,sx:i,...c}=e;const{getRootProps:d,getInputProps:h,isDragActive:u,isDragReject:p}=(0,E.uI)({multiple:!1,disabled:n,...c}),g=!!r,x=p||!!t;return(0,l.jsxs)(U,{children:[(0,l.jsxs)(D,{children:[(0,l.jsxs)(M,{...d(),sx:{...u&&{opacity:.72},...x&&{borderColor:"error.light",...g&&{bgcolor:"error.lighter"}},...n&&{opacity:.48,pointerEvents:"none"},...g&&{"&:hover":{"& .placeholder":{opacity:1}}},...i},children:[(0,l.jsx)("input",{...h()}),g&&(0,l.jsx)(m,{file:r}),(0,l.jsxs)(T,{className:"placeholder",sx:{"&:hover":{opacity:.72},...g&&{zIndex:9,opacity:0,color:"common.white",bgcolor:e=>(0,q.Fq)(e.palette.grey[900],.64)},...x&&{color:"error.main",bgcolor:"error.lighter"}},children:[(0,l.jsx)(A.Z,{}),(0,l.jsx)(f.Z,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]}),g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{size:"small",onClick:s,setval:13,children:(0,l.jsx)(F.Z,{})}),(0,l.jsx)(N,{size:"small",onClick:a,setval:.5,children:(0,l.jsx)(L.Z,{})})]})]}),o&&o]})}function V(e){let{name:t,formState:r,onRemove:n,onEdit:o,defaultValues:a,...c}=e;const d=(0,i.Gc)(),[h,p]=(0,s.useState)(!1),[g,x]=(0,s.useState)(!1),m=()=>{p(!0)},j=()=>{p(!1)},v=async e=>{d.setValue(t,e),o(!0),j()};(0,s.useEffect)((()=>{const e=d.getValues(t);a[t]||!e||g||d.formState.isSubmitSuccessful||(x(!0),m())}),[d,g,t,a]);const f=()=>{x(!1),n()};return(0,l.jsx)("div",{children:(0,l.jsx)(i.Qr,{name:t,control:d.control,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,l.jsxs)("div",{children:[h&&(0,l.jsx)(R,{open:h,handleClose:j,image:t.value,onUse:v}),(0,l.jsx)(_,{accept:{"image/jpeg":".jpg, .jpeg","image/png":".png","image/webp":".webp"},error:!!n,file:t.value,onRemove:f,formState:r,onCrop:m,...c}),!!n&&(0,l.jsx)(u.Z,{error:!0,sx:{px:2,textAlign:"center"},children:(!r.isSubmitSuccessful||r.isDirty)&&n.message})]})}})})}},7499:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(6314),o=r(890),a=r(43),s=r(1087),i=r(2791),l=r(7659),c=r(8007),d=r(4695),h=r(1134),u=r(5193),p=r(3466),g=r(3400),x=r(9709),m=r(3735),j=r(697),v=r(4420),f=r(6341),b=r(279),w=r(184);const Z=()=>{const{isLoading:e}=(0,v.v9)((e=>e.auth)),t=(0,v.I0)(),[r,o]=(0,i.useState)(!1),Z=(0,i.useRef)(null),y=c.Ry().shape({email:c.Z_().required("Email Required").email("Invalid Email"),password:c.Z_().required("Password Required").min(8,"Password must be atleast 8 characters long").matches(/[0-9]/,"Password requires a number").matches(/[a-z]/,"Password requires a lowercase letter").matches(/[A-Z]/,"Password requires an uppercase letter").matches(/[^\w]/,"Password requires a symbol")}),C=(0,h.cI)({mode:"onChange",resolver:(0,d.X)(y),defaultValues:{email:"",password:""}}),{handleSubmit:k}=C,P=(0,u.Z)((e=>e.breakpoints.down("md")));return(0,w.jsxs)(b.ZP,{methods:C,onSubmit:k((async e=>{try{t((0,f.vx)({...e,recaptchaRef:Z}))}catch(r){console.log(r)}})),children:[(0,w.jsxs)(n.Z,{spacing:P?0:3,children:[(0,w.jsx)(b.au,{name:"email",label:"Email address"}),(0,w.jsx)(b.au,{name:"password",label:"Password",type:r?"text":"password",InputProps:{endAdornment:(0,w.jsx)(p.Z,{position:"end",children:(0,w.jsx)(g.Z,{onClick:()=>{o(!r)},children:r?(0,w.jsx)(m.Z,{}):(0,w.jsx)(j.Z,{})})})}})]}),(0,w.jsx)(n.Z,{alignItems:P?"center":"flex-end",sx:{my:2},children:(0,w.jsx)(a.Z,{to:"/auth/forgot-password",component:s.rU,variant:"body2",color:"inherit",underline:"hover",children:"Forgot Password?"})}),(0,w.jsx)(l.Z,{ref:Z,size:"invisible",sitekey:"6LdS2E4rAAAAALU1eoNKFFP-8FgXuADqEha9eh3P",theme:"dark"}),(0,w.jsx)(x.Z,{loading:e,fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mt:3,bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:e=>"light"===e.palette.mode?"common.white":"grey.800"}},children:"Login"})]})};var y=r(602);const C=()=>(0,w.jsxs)(n.Z,{spacing:2,sx:{my:5,position:"realative"},children:[(0,w.jsxs)(n.Z,{justifyContent:"center",alignItems:"center",spacing:1,children:[(0,w.jsx)(o.Z,{component:"h1",variant:"h4",children:"Login to Resolvix-Ticketing"}),(0,w.jsxs)(n.Z,{direction:"row",spacing:.5,children:[(0,w.jsx)(o.Z,{variant:"body2",children:"New User?"}),(0,w.jsx)(a.Z,{to:"/auth/register",component:s.rU,variant:"subtitle2",children:"Create an account"})]})]}),(0,w.jsx)(Z,{}),(0,w.jsx)(y.Z,{})]})},602:(e,t,r)=>{r.d(t,{Z:()=>x});var n=r(4721),o=r(6314),a=r(3400),s=r(7804),i=r(6260),l=r(5872),c=r(4420),d=r(6341);const h=e=>{const t=e;return new Promise(((e,r)=>{const n=window.open(t,"_blank","width=600,height=600"),o=setInterval((()=>{if(!n||n.closed||void 0===n.closed)clearInterval(o),r(new Error("Popup closed before authorization"));else try{const t=new URLSearchParams(n.location.search),r=t.get("code");r&&(console.log(t),n.close(),clearInterval(o),e(r))}catch(t){}}),1e3)}))};var u=r(3026),p=r(9899),g=r(184);const x=()=>{const e=(0,c.I0)(),t=window.location.origin,r=t=>{e((0,p.aR)({severity:"error",message:"Unable to login using ".concat(t)}))},x=(0,l.Nq)({onSuccess:t=>{e((0,d.kZ)(t))},onError:e=>{r("google"),console.log(e)}});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.Z,{sx:{my:2.5,typography:"overline",color:"text.disabled"},children:"OR"}),(0,g.jsxs)(o.Z,{direction:"row",spacing:2,justifyContent:"center",children:[(0,g.jsx)(a.Z,{onClick:()=>x(),children:(0,g.jsx)(s.Z,{color:"#DF3E30"})}),(0,g.jsx)(a.Z,{color:"inherit",onClick:()=>(async()=>{try{const t=await h("https://github.com/login/oauth/authorize?client_id=".concat("","&scope=user"));e((0,d.nB)(t))}catch(t){r("github"),console.log("Github Error:",t.message)}})(),children:(0,g.jsx)(i.Z,{})}),(0,g.jsx)(a.Z,{onClick:()=>(async()=>{try{const r=await h("https://linkedin.com/oauth/v2/authorization?client_id=".concat("","&response_type=code&scope=email profile openid&redirect_uri=").concat(t,"/auth/login"));e((0,d.tJ)(r))}catch(n){r("linkedin"),console.log("Linkedin Error:",n.message)}})(),children:(0,g.jsx)(u.Z,{icon:"ri:linkedin-line",color:"#1C9CEA"})})]})]})}}}]);
//# sourceMappingURL=117.143a1739.chunk.js.map